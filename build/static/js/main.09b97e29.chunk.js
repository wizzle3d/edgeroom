(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{191:function(e,t,n){},410:function(e,t,n){},411:function(e,t,n){"use strict";n.r(t);var s=n(2),c=n.n(s),i=n(41),a=n.n(i),l=(n(191),n(4)),r=n(5),o=n(34),d=n(6),j=n.n(d),u=function(e,t){j.a.post("/api/token/refresh/",{refresh:e.authTokens.refresh}).then((function(e){t({type:"LOGIN_SUCCESS",payload:e.data})})).catch((function(){t({type:"LOGOUT"})}))},b=function(e,t){var n;return j.a.get("/api/check-notifications",{headers:{Authorization:"Bearer ".concat(null===e||void 0===e||null===(n=e.authTokens)||void 0===n?void 0:n.access)}}).then((function(e){return t({type:"NOTIFICATIONS",payload:e.data})}))},h=function(e,t){return function(){switch(e){case"info":o.NotificationManager.info(t);break;case"success":o.NotificationManager.success(t);break;case"warning":o.NotificationManager.warning("Warning message","Close after 3000ms",3e3);break;case"error":o.NotificationManager.error(t,"Error!",5e3,(function(){alert("callback")}));break;default:return}}},m=function(e){var t="";return e.blocks.forEach((function(e){return t+=" "+e.text})),t},O=function(e,t){if(!(e.length>0))return!1;for(var n=0;n<e.length;n++){if(e[n].id===t.id)return!0;if(n===e.length-1)return!1}},x=n(1),g={authTokens:localStorage.getItem("authTokens")?JSON.parse(localStorage.getItem("authTokens")):null,loading:!0},p=Object(s.createContext)(),v=function(e,t){switch(t.type){case"LOGIN_SUCCESS":return localStorage.setItem("authTokens",JSON.stringify(t.payload)),Object(r.a)(Object(r.a)({},e),{},{authTokens:JSON.parse(localStorage.getItem("authTokens")),loading:!1});case"LOGOUT":return localStorage.removeItem("authTokens",t.payload),Object(r.a)(Object(r.a)({},e),{},{authTokens:null});case"NOTIFICATIONS":return Object(r.a)(Object(r.a)({},e),{},{notifications:t.payload});case"AVATAR":return Object(r.a)(Object(r.a)({},e),{},{avatar:t.payload});case"INTERESTS":return Object(r.a)(Object(r.a)({},e),{},{interests:t.payload});default:return}},f=function(e){var t=e.children,n=Object(s.useReducer)(v,g),c=Object(l.a)(n,2),i=c[0],a=c[1];return Object(s.useEffect)((function(){i.loading&&i.authTokens&&u(i,a);var e=setInterval((function(){i.authTokens&&u(i,a)}),54e4);return function(){return clearInterval(e)}}),[i]),Object(s.useEffect)((function(){i.loading||b(i,a);var e=setInterval((function(){i.authTokens&&b(i,a)}),1e4);return function(){return clearInterval(e)}}),[]),Object(x.jsx)(p.Provider,{value:{store:i,dispatch:a},children:i.authTokens&&!i.loading||!i.authTokens?t:null})},y=n(3),N=n(22),k=n.n(N),w=function(e){var t=e.question,n=new Date(t.created);return Object(x.jsxs)("div",{className:"question-list",children:[Object(x.jsxs)("div",{className:"QList-left",style:{width:"90px",textAlign:"center",float:"left"},children:[Object(x.jsxs)("div",{className:"question-views-answers ".concat(t.is_answered&&"QList-solved"),style:{paddingTop:10},children:[Object(x.jsx)("p",{style:{fontSize:18,lineHeight:.5},children:t.answers.length}),Object(x.jsx)("small",{children:"answers"})]}),Object(x.jsxs)("div",{className:"question-views-answers",children:[Object(x.jsx)("small",{style:{lineHeight:.5},children:t.views}),Object(x.jsx)("small",{children:" views"})]})]}),Object(x.jsxs)("div",{className:"QList-attribute",children:[Object(x.jsxs)("div",{style:{borderBottom:"1px solid #b9b9b9",width:"100%",padding:3,boxSizing:"border-box"},children:[Object(x.jsx)("p",{className:"QList-vote-count",children:t.vote.likes.length}),Object(x.jsx)("p",{className:"QList-vote-count",children:"Likes"})]}),Object(x.jsxs)("div",{style:{width:"100%",padding:3,boxSizing:"border-box"},children:[Object(x.jsx)("p",{className:"QList-vote-count",children:t.vote.dislikes.length}),Object(x.jsx)("p",{className:"QList-vote-count",children:"dislikes"})]})]}),Object(x.jsxs)("div",{className:"QList-content",children:[Object(x.jsx)(y.b,{to:"/question/".concat(t.id),className:"link",children:Object(x.jsx)("p",{children:t.title})}),Object(x.jsxs)("small",{children:[m(t.description).slice(0,200),"..."]}),Object(x.jsx)("div",{style:{display:"flex",flexWrap:"wrap"},children:t.tags.map((function(e){return Object(x.jsx)("i",{className:"tag",children:e.name},e.id)}))}),Object(x.jsxs)("div",{style:{width:"100%"},children:[Object(x.jsxs)("div",{style:{float:"right",lineHeight:1.2,marginRight:5},children:[Object(x.jsxs)("small",{children:["asked ",k()(n).fromNow()]}),Object(x.jsx)(y.b,{to:"/user/".concat(t.host.id),className:"link",children:Object(x.jsx)("p",{className:"link",children:t.host.username})})]}),Object(x.jsx)(y.b,{to:"/user/".concat(t.host.id),className:"link",children:Object(x.jsx)("img",{style:{float:"right",marginRight:5,marginTop:2},src:t.host.avatar,alt:t.host.name,className:"question-avatar"})})]})]})]})},T=n(32),C=function(){var e,t,n,c=Object(s.useContext)(p).store,i=c.authTokens&&Object(T.a)(c.authTokens.access);return Object(x.jsx)("div",{children:(null===c||void 0===c?void 0:c.authTokens)&&Object(x.jsxs)("div",{className:"bordered-sidebar",children:[Object(x.jsx)("p",{style:{borderBottom:"1px solid #b9b9b9",textAlign:"center",marginBottom:10,backgroundColor:"#eff9ff"},children:"Tags you are interested in"}),Object(x.jsxs)("div",{style:{display:"flex",flexWrap:"wrap"},children:[(null===c||void 0===c||null===(e=c.interests)||void 0===e?void 0:e.length)>0&&(null===c||void 0===c||null===(t=c.interests)||void 0===t?void 0:t.map((function(e){return Object(x.jsx)("span",{className:"tag",children:null===e||void 0===e?void 0:e.name},null===e||void 0===e?void 0:e.id)}))),0===(null===c||void 0===c||null===(n=c.interests)||void 0===n?void 0:n.length)&&Object(x.jsxs)("p",{style:{padding:20},children:["You have added no interest."," ",Object(x.jsx)(y.b,{to:"/user/edit/".concat(i.user_id),className:"link",children:"Edit your profile"})," ","to add interest."]})]})]})})},S=function(){var e,t=Object(s.useContext)(p).store,n=Object(s.useState)(null),c=Object(l.a)(n,2),i=c[0],a=c[1];return Object(s.useEffect)((function(){j.a.get("api/get-questions").then((function(e){a(e.data.sort((function(e,t){return e.vote.likes-e.vote.dislikes>t.vote.likes-t.vote.dislikes?-1:1})))})).catch((function(e){return console.log(e)}))}),[null===t||void 0===t||null===(e=t.authTokens)||void 0===e?void 0:e.access]),Object(x.jsx)(x.Fragment,{children:i&&Object(x.jsxs)("div",{children:[Object(x.jsxs)("div",{className:"content",children:[Object(x.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",margin:"0px 15px"},children:[Object(x.jsx)("p",{style:{margin:0,color:"rgb(58, 58, 58)",fontSize:"26px"},children:"Top Questions"}),Object(x.jsx)(y.b,{to:"/ask-question",style:{marginTop:5},children:Object(x.jsx)("button",{className:"btn btn-blue",children:"Ask question"})})]}),Object(x.jsx)("div",{style:{display:"flex",margin:"15px 15px 0px 15px",justifyContent:"space-between"},children:Object(x.jsxs)("p",{style:{marginTop:6,color:"rgb(58, 58, 58)",fontSize:"large"},children:[i.length," questions"]})}),Object(x.jsx)("hr",{}),null===i||void 0===i?void 0:i.map((function(e){return Object(x.jsx)(w,{question:e},e.id)}))]}),(null===t||void 0===t?void 0:t.authTokens)&&Object(x.jsxs)("div",{className:"right-pane",children:[Object(x.jsxs)("p",{className:"bordered-sidebar",style:{padding:20,marginBottom:20,textAlign:"center"},children:["Go to"," ",Object(x.jsx)(y.b,{className:"link",to:"/user-questions",children:"My Questions"})]}),Object(x.jsx)(C,{className:"bordered-sidebar"})]})]})})},q=n(9),A=n(57),_=n(17),R=n(33),I=n(16),z=I.a().shape({name:I.c().min(5).max(200).required("This field is required."),username:I.c().min(2).max(20).required("This field is required."),email:I.c().email().required("This field is required."),password:I.c().required("This field is required."),confirmPassword:I.c().oneOf([I.b("password"),null],"Passwords should match").required()}),E=I.a().shape({username:I.c().required("This field is required."),password:I.c().required("This field is required.")}),B=I.a().shape({username:I.c().min(2).max(20).required("This field is required."),bio:I.c().max(250).required("This field is required."),name:I.c().min(5).max(200).required("This field is required.")}),L=(I.a().shape({question:I.c().min(5).max(400).required("This field is required"),description:I.a().required("This field is required")}),I.a().shape({tagName:I.c().required("This field is required"),description:I.c().min(5).max(400).required("This field is required")})),Q=I.a().shape({input:I.c().min(5).required("This field is required")}),D=n(7),P=(n(76),function(e){var t=e.tag,n=e.addTag;return Object(x.jsxs)("div",{className:"tag-wrapper",children:[Object(x.jsx)("div",{children:Object(x.jsx)("span",{className:"tag",style:{fontSize:14},onClick:function(){n(t)},children:t.name})}),Object(x.jsxs)("small",{children:[t.description.slice(0,100),"..."]})]})}),F=function(e){var t,n=e.createNotification,c=e.store,i=e.modal,a=Object(s.useState)(null),o=Object(l.a)(a,2),d=o[0],u=o[1],b=Object(_.d)({resolver:Object(R.a)(L)}),h=b.register,m=b.handleSubmit,O=b.formState.errors,g=document.getElementById("close");return g&&(g.onclick=function(){i.style.display="none"}),window.onclick=function(e){e.target===i&&(i.style.display="none")},Object(x.jsx)("div",{className:"modal-content",children:Object(x.jsxs)("form",{onSubmit:m((function(e){var t;j.a.post("/api/create-tag/",e,{headers:{Authorization:"Bearer ".concat(null===c||void 0===c||null===(t=c.authTokens)||void 0===t?void 0:t.access)}}).then(n("success","Tag created","You can now search and select your tag.")).then((function(){return i.style.display="none"})).catch((function(e){400===e.response.status&&u(e.response.data)}))})),children:[Object(x.jsx)("legend",{children:"Create a tag"}),Object(x.jsxs)("div",{className:"mb-2",children:[Object(x.jsx)("label",{children:"Name"}),Object(x.jsx)("input",Object(r.a)(Object(r.a)({type:"text"},h("tagName")),{},{className:"textfield",name:"tagName",placeholder:"Enter tag name",onChange:function(){return u(null)}})),O.tagName&&Object(x.jsx)("p",{className:"alert alert-danger",children:null===(t=O.tagName)||void 0===t?void 0:t.message}),d&&Object(x.jsx)("p",{className:"alert alert-danger",children:d.error})]}),Object(x.jsxs)("div",{className:"mb-1",children:[Object(x.jsx)("label",{children:"Description"}),Object(x.jsx)("textarea",Object(r.a)(Object(r.a)({type:"text",style:{height:90},onChange:function(){return u(null)}},h("description")),{},{className:"textfield",name:"description",placeholder:"Describe tag"}))]}),Object(x.jsxs)("div",{style:{float:"right"},children:[Object(x.jsx)("button",{id:"close",className:"btn btn-grey",style:{width:"fit-content",marginRight:10},children:"Close"}),Object(x.jsx)("input",{className:"btn btn-blue",type:"submit",value:"Create tag",style:{width:"fit-content"}})]})]})})},U=n(11),H=n(12),M=n(35),G=n(20),K=n(21),J=n(23),W=(n(409),n(410),function(e){Object(G.a)(n,e);var t=Object(K.a)(n);function n(e){var s;return Object(U.a)(this,n),(s=t.call(this,e)).state={editorState:J.EditorState.createEmpty()},s.focus=function(){return s.refs.editor.focus()},s.onChange=function(t){s.setState({editorState:t}),e.setDes(Object(J.convertToRaw)(t.getCurrentContent())),e.setInvalid(!1)},s.handleKeyCommand=s._handleKeyCommand.bind(Object(M.a)(s)),s.mapKeyToEditorCommand=s._mapKeyToEditorCommand.bind(Object(M.a)(s)),s.toggleBlockType=s._toggleBlockType.bind(Object(M.a)(s)),s.toggleInlineStyle=s._toggleInlineStyle.bind(Object(M.a)(s)),s}return Object(H.a)(n,[{key:"_handleKeyCommand",value:function(e,t){var n=J.RichUtils.handleKeyCommand(t,e);return!!n&&(this.onChange(n),!0)}},{key:"_mapKeyToEditorCommand",value:function(e){if(9!==e.keyCode)return Object(J.getDefaultKeyBinding)(e);var t=J.RichUtils.onTab(e,this.state.editorState,4);t!==this.state.editorState&&this.onChange(t)}},{key:"_toggleBlockType",value:function(e){this.onChange(J.RichUtils.toggleBlockType(this.state.editorState,e))}},{key:"_toggleInlineStyle",value:function(e){this.onChange(J.RichUtils.toggleInlineStyle(this.state.editorState,e))}},{key:"render",value:function(){var e=this.state.editorState,t="RichEditor-editor",n=e.getCurrentContent();return n.hasText()||"unstyled"!==n.getBlockMap().first().getType()&&(t+=" RichEditor-hidePlaceholder"),Object(x.jsxs)("div",{className:"RichEditor-root",children:[Object(x.jsx)($,{editorState:e,onToggle:this.toggleBlockType}),Object(x.jsx)(te,{editorState:e,onToggle:this.toggleInlineStyle}),Object(x.jsx)("div",{className:t,onClick:this.focus,children:Object(x.jsx)(J.Editor,{blockStyleFn:V,customStyleMap:Y,editorState:e,handleKeyCommand:this.handleKeyCommand,keyBindingFn:this.mapKeyToEditorCommand,onChange:this.onChange,placeholder:"Tell a story...",ref:"editor",spellCheck:!0})})]})}}]),n}(c.a.Component)),Y={CODE:{backgroundColor:"rgba(0, 0, 0, 0.05)",fontFamily:'"Inconsolata", "Menlo", "Consolas", monospace',fontSize:16,padding:2}};function V(e){return"blockquote"===e.getType()?"RichEditor-blockquote":null}var X=function(e){Object(G.a)(n,e);var t=Object(K.a)(n);function n(){var e;return Object(U.a)(this,n),(e=t.call(this)).onToggle=function(t){t.preventDefault(),e.props.onToggle(e.props.style)},e}return Object(H.a)(n,[{key:"render",value:function(){var e="RichEditor-styleButton";return this.props.active&&(e+=" RichEditor-activeButton"),Object(x.jsx)("span",{className:e,onMouseDown:this.onToggle,children:this.props.label})}}]),n}(c.a.Component),Z=[{label:"H1",style:"header-one"},{label:"H2",style:"header-two"},{label:"H3",style:"header-three"},{label:"H4",style:"header-four"},{label:"H5",style:"header-five"},{label:"H6",style:"header-six"},{label:"Blockquote",style:"blockquote"},{label:"UL",style:"unordered-list-item"},{label:"OL",style:"ordered-list-item"},{label:"Code Block",style:"code-block"}],$=function(e){var t=e.editorState,n=t.getSelection(),s=t.getCurrentContent().getBlockForKey(n.getStartKey()).getType();return Object(x.jsx)("div",{className:"RichEditor-controls",children:Z.map((function(t){return Object(x.jsx)(X,{active:t.style===s,label:t.label,onToggle:e.onToggle,style:t.style},t.label)}))})},ee=[{label:"Bold",style:"BOLD"},{label:"Italic",style:"ITALIC"},{label:"Underline",style:"UNDERLINE"},{label:"Monospace",style:"CODE"}],te=function(e){var t=e.editorState.getCurrentInlineStyle();return Object(x.jsx)("div",{className:"RichEditor-controls",children:ee.map((function(n){return Object(x.jsx)(X,{active:t.has(n.style),label:n.label,onToggle:e.onToggle,style:n.style},n.label)}))})},ne=W,se=function(){var e,t=Object(s.useState)(null),n=Object(l.a)(t,2),c=n[0],i=n[1],a=Object(s.useState)(null),d=Object(l.a)(a,2),u=d[0],b=d[1],g=Object(s.useState)([]),v=Object(l.a)(g,2),f=v[0],N=v[1],k=Object(s.useContext)(p).store,w=Object(s.useState)(null),T=Object(l.a)(w,2),S=T[0],I=T[1],z=Object(s.useState)(!1),E=Object(l.a)(z,2),B=E[0],L=E[1],U=Object(D.g)(),H=function(e){!O(f,e)&&f.length<5&&N([].concat(Object(q.a)(f),[e]))};Object(s.useEffect)((function(){(null===k||void 0===k?void 0:k.authTokens)||U("/login")}));var M=document.getElementById("modal"),G=Object(_.d)({resolver:Object(R.a)(Q)}),K=G.register,J=G.handleSubmit,W=G.formState.errors;return Object(x.jsxs)("div",{children:[Object(x.jsx)("div",{id:"modal",className:"modal",children:Object(x.jsx)(F,{createNotification:h,store:k,modal:M})}),k.authTokens&&Object(x.jsxs)("form",{className:"content",onSubmit:J((function(e){if(!u||m(u)<5)return L(!0);var t;e=Object(r.a)(Object(r.a)({},e),{},{tags:f,description:u}),j.a.post("/api/create-question/",e,{headers:{Authorization:"Bearer ".concat(null===k||void 0===k||null===(t=k.authTokens)||void 0===t?void 0:t.access)}}).then(h("success","Question posted")).catch((function(e){return I(e.response.data)}))})),style:{padding:"25px 20px"},children:[(null===S||void 0===S?void 0:S.detail)&&Object(x.jsx)("p",{className:"alert alert-danger",style:{marginBottom:20},children:null===S||void 0===S?void 0:S.detail}),Object(x.jsxs)("fieldset",{children:[Object(x.jsx)("legend",{children:"Ask a Question"}),Object(x.jsxs)("div",{className:"input-group",children:[Object(x.jsx)("label",{children:"Question?"}),Object(x.jsx)("input",Object(r.a)(Object(r.a)({type:"text"},K("input")),{},{name:"input",onChange:function(){return I({})},className:"textfield"})),W.input&&Object(x.jsx)("p",{className:"alert alert-danger",children:null===(e=W.input)||void 0===e?void 0:e.message})]}),Object(x.jsxs)("div",{style:{marginBottom:20},children:[Object(x.jsx)("label",{children:"Description"}),Object(x.jsx)("div",{children:Object(x.jsx)(ne,{setDes:b,setInvalid:L})}),B&&Object(x.jsx)("p",{className:"alert alert-danger",children:"Answer must be more than 5 characters"}),Object(x.jsx)("div",{style:{display:"flex",flexWrap:"wrap"},children:null===f||void 0===f?void 0:f.map((function(e){return Object(x.jsxs)("span",{className:"tag",onClick:function(){return function(e){N(f.filter((function(t){return t.id!==e.id})))}(e)},children:[null===e||void 0===e?void 0:e.name," ",Object(x.jsx)("span",{style:{color:"#ac5a2b",fontSize:15},children:"x"})]},null===e||void 0===e?void 0:e.id)}))})]}),Object(x.jsxs)("label",{children:["Add tags ",Object(x.jsx)("small",{children:"(maximum of 5)"}),":"]}),Object(x.jsxs)("div",{style:{marginBottom:20,border:"1px solid #dadada"},children:[Object(x.jsxs)("div",{style:{display:"flex",marginTop:10},className:"mb-2",children:[Object(x.jsx)(A.a,{style:{float:"left"},className:"icon"}),Object(x.jsx)("input",{className:"tag-search",style:{float:"left"},type:"text",onChange:function(e){return t=e.target.value,j.a.get("/api/search-tags/".concat(t)).then((function(e){return i(e.data)})).catch((function(){return i(null)}));var t},placeholder:"Search tags..."})]}),Object(x.jsxs)("div",{style:{display:"flex",flexWrap:"wrap",justifyContent:"space-between"},children:[(null===c||void 0===c?void 0:c.length)>0&&c.map((function(e){return Object(x.jsx)(P,{addTag:H,tags:f,tag:e},e.id)})),0===(null===c||void 0===c?void 0:c.length)&&Object(x.jsxs)("p",{className:"tag-wrapper alert-danger",style:{width:"100%",textAlign:"center",padding:30},children:["No tag matches your search."," ",Object(x.jsx)("span",{className:"btn btn-blue",style:{margin:0,padding:"1px 5px",height:"",width:"fit-content"},onClick:function(){return M.style.display="block"},children:"Create a tag"})]})]})]}),Object(x.jsx)("input",{type:"submit",className:"btn btn-orange",value:"Ask Question",style:{height:45,width:"100%",margin:0}})]})]}),(null===k||void 0===k?void 0:k.authTokens)&&Object(x.jsxs)("div",{className:"right-pane",children:[Object(x.jsxs)("p",{className:"bordered-sidebar",style:{padding:20,marginBottom:20,textAlign:"center"},children:["Go to"," ",Object(x.jsx)(y.b,{className:"link",to:"/user-questions",children:"My Questions"})]}),Object(x.jsx)(C,{className:"bordered-sidebar"})]}),Object(x.jsx)(o.NotificationContainer,{})]})},ce=function(){var e=Object(s.useState)(null),t=Object(l.a)(e,2),n=t[0],c=t[1],i=Object(s.useContext)(p),a=i.store,r=i.dispatch;return Object(s.useEffect)((function(){var e;a.authTokens?j.a.get("/api/get-user-questions",{headers:{Authorization:"Bearer ".concat(null===(e=a.authTokens)||void 0===e?void 0:e.access)}}).then((function(e){return c(e.data)})):Object(D.a)("/login")}),[r,a.authTokens]),Object(x.jsxs)("div",{children:[a.authTokens&&n&&Object(x.jsx)("div",{className:"content",children:null===n||void 0===n?void 0:n.sort((function(e,t){return e.created>t.created?-1:1})).map((function(e){return Object(x.jsx)(w,{question:e},e.id)}))}),(null===a||void 0===a?void 0:a.authTokens)&&Object(x.jsx)("div",{className:"right-pane",children:Object(x.jsx)(C,{className:"bordered-sidebar"})})]})},ie=n(90),ae=function(e){var t,n=e.id,c=e.setShowAddComment,i=e.setParent,a=e.type_is_question,l=e.questionID,o=Object(s.useContext)(p).store,d=Object(_.d)({resolver:Object(R.a)(Q)}),u=d.register,b=d.handleSubmit,m=d.formState;return Object(x.jsxs)("form",{onSubmit:b((function(e){e=Object(r.a)(Object(r.a)({},e),{},{type_is_question:a,questionID:l}),j.a.post("/api/create-comment/".concat(n),e,{headers:{Authorization:"Bearer ".concat(o.authTokens.access)}}).then((function(e){i(e.data),c(!1)})).then(h("success","Comment Added!"))})),children:[Object(x.jsx)("input",Object(r.a)(Object(r.a)({type:"text"},u("input")),{},{name:"input",className:"textfield mb-2"})),m.input&&Object(x.jsx)("p",{className:"alert alert-danger",children:null===(t=m.input)||void 0===t?void 0:t.message}),Object(x.jsx)("input",{type:"submit",className:"btn btn-blue mb-2",value:"Add comment",style:{width:"fit-content",float:"right"}})]})},le=function(e){var t=e.comment;return Object(x.jsxs)("div",{className:"comment",children:[Object(x.jsx)("small",{children:t.body}),Object(x.jsxs)("span",{children:[Object(x.jsx)("strong",{children:" -"}),Object(x.jsx)(y.b,{to:"/user/".concat(t.author.id),className:"link",children:t.author.username})]})]})},re=n(109),oe=n(185),de=n(58),je=function(e){var t=e.ans,n=e.questionID,c=e.refID,i=e.host_id,a=e.is_answered,r=e.setQuestion,o=Object(s.useContext)(p).store,d=Object(s.useRef)(),u=(null===o||void 0===o?void 0:o.authTokens)&&Object(T.a)(null===o||void 0===o?void 0:o.authTokens.access);Object(oe.useEffect)((function(){c===t.id&&function(){var e;null===(e=d.current)||void 0===e||e.scrollIntoView({behavior:"smooth"})}()}),[c,t.id]);var b=Object(s.useState)(),m=Object(l.a)(b,2),O=m[0],g=m[1],v=Object(s.useState)(t),f=Object(l.a)(v,2),N=f[0],w=f[1],C=N&&Object(ie.a)(Object(J.convertFromRaw)(N.body)),S=new Date(N.created),q=function(e){var t;j.a.put("/api/vote/".concat(N.id),{type_is_question:!1,value:e},{headers:{Authorization:"Bearer ".concat(null===o||void 0===o||null===(t=o.authTokens)||void 0===t?void 0:t.access)}}).then((function(e){return w(e.data)}))};return Object(x.jsxs)("div",{ref:d,children:[Object(x.jsxs)("div",{className:"QnA-attribute",children:[(null===u||void 0===u?void 0:u.user_id)===i&&!a&&Object(x.jsx)(re.a,{className:"QnA-answered mb-1",onClick:function(){return function(){var e;j.a.put("/api/mark-answer/".concat(n),{answer_id:t.id},{headers:{Authorization:"Bearer ".concat(null===o||void 0===o||null===(e=o.authTokens)||void 0===e?void 0:e.access)}}).then((function(e){return r(e.data)})).then(h("success","Your question has been solved"))}()},title:"mark as solution"}),t.is_solution&&Object(x.jsx)(re.a,{className:"QnA-answered yes mb-1"}),Object(x.jsx)(de.b,{className:"QnA-vote like ".concat(N.vote.likes.includes(null===u||void 0===u?void 0:u.user_id)&&"liked"),onClick:function(){return q(!0)}}),Object(x.jsx)("p",{className:"vote-count mb-1",children:N.vote.likes.length}),Object(x.jsx)(de.a,{className:"QnA-vote dislike ".concat(N.vote.dislikes.includes(null===u||void 0===u?void 0:u.user_id)&&"disliked"),onClick:function(){return q(!1)}}),Object(x.jsx)("p",{className:"vote-count",children:N.vote.dislikes.length})]}),Object(x.jsx)("div",{className:"QnA-content",dangerouslySetInnerHTML:{__html:C}}),Object(x.jsxs)("div",{style:{float:"left",width:"100%"},children:[Object(x.jsxs)("div",{style:{float:"right",lineHeight:1.2},className:"mb-2",children:[Object(x.jsxs)("small",{children:["answer ",k()(S).fromNow()]}),Object(x.jsx)(y.b,{to:"/user/".concat(N.author.id),className:"link",children:Object(x.jsx)("p",{className:"link",children:N.author.username})})]}),Object(x.jsx)(y.b,{to:"/user/".concat(N.author.id),className:"link",children:Object(x.jsx)("img",{style:{float:"right",marginRight:5},src:N.author.avatar,alt:N.author.name,className:"question-avatar"})})]}),N.comments&&N.comments.map((function(e){return Object(x.jsx)(le,{comment:e},e.id)})),o.authTokens&&Object(x.jsxs)("div",{children:[!O&&Object(x.jsx)("button",{className:"btn-link",onClick:function(){return g(!0)},children:"Add a comment"}),O&&Object(x.jsx)(ae,{id:N.id,setShowAddComment:g,setParent:w,type_is_question:!1,questionID:n})]}),Object(x.jsx)("hr",{style:{width:"100%"}})]})},ue=function(){var e,t=Object(D.h)().id,n=Object(D.h)().refID,c=Object(s.useContext)(p).store,i=Object(s.useRef)(),a=(null===c||void 0===c?void 0:c.authTokens)&&Object(T.a)(null===c||void 0===c?void 0:c.authTokens.access),r=Object(s.useState)(null),o=Object(l.a)(r,2),d=o[0],u=o[1],b=Object(s.useState)(null),O=Object(l.a)(b,2),g=O[0],v=O[1],f=Object(s.useState)(!1),N=Object(l.a)(f,2),w=N[0],S=N[1],q=new Date(null===d||void 0===d?void 0:d.created),A=new Date(null===d||void 0===d?void 0:d.updated),_=Object(s.useState)(!1),R=Object(l.a)(_,2),I=R[0],z=R[1],E=(null===d||void 0===d?void 0:d.description)&&Object(ie.a)(Object(J.convertFromRaw)(d.description));Object(s.useEffect)((function(){!function(){var e;null===(e=i.current)||void 0===e||e.scrollIntoView({behavior:"smooth"})}(),u(null),j.a.get("/api/get-question/".concat(t)).then((function(e){return u(e.data)}))}),[t]);var B=function(e){var t;j.a.put("/api/vote/".concat(d.id),{type_is_question:!0,value:e},{headers:{Authorization:"Bearer ".concat(null===c||void 0===c||null===(t=c.authTokens)||void 0===t?void 0:t.access)}}).then((function(e){return u(e.data)}))};return Object(x.jsxs)("div",{children:[d&&Object(x.jsxs)("div",{className:"content",style:{padding:"25px 20px"},children:[Object(x.jsxs)("div",{style:{display:"flex",justifyContent:"space-between"},children:[Object(x.jsx)("p",{style:{margin:0,color:"rgb(58, 58, 58)",fontSize:26,lineHeight:1.2},children:d.title}),Object(x.jsx)(y.b,{to:"/ask-question",children:Object(x.jsx)("button",{className:"btn btn-blue",children:"Ask question"})})]}),Object(x.jsxs)("div",{className:"mb-2",children:[Object(x.jsxs)("small",{style:{marginRight:5},children:["Asked ",Object(x.jsx)("strong",{children:k()(q).fromNow()}),"."]}),Object(x.jsxs)("small",{style:{marginRight:5},children:["Last Activity ",Object(x.jsx)("strong",{children:k()(A).fromNow()}),"."]}),Object(x.jsxs)("small",{style:{marginRight:5},children:["Views ",Object(x.jsx)("strong",{children:d.views}),"."]})]}),Object(x.jsx)("hr",{className:"mb-1"}),Object(x.jsxs)("div",{className:"QnA-attribute",children:[Object(x.jsx)(de.b,{className:"QnA-vote ".concat(d.vote.likes.includes(null===a||void 0===a?void 0:a.user_id)&&"liked"),onClick:function(){return B(!0)}}),Object(x.jsx)("p",{className:"vote-count mb-1",children:d.vote.likes.length}),Object(x.jsx)(de.a,{className:"QnA-vote dislike ".concat(d.vote.dislikes.includes(null===a||void 0===a?void 0:a.user_id)&&"disliked"),onClick:function(){return B(!1)}}),Object(x.jsx)("p",{className:"vote-count",children:d.vote.dislikes.length})]}),Object(x.jsx)("div",{className:"QnA-content",dangerouslySetInnerHTML:{__html:E}}),Object(x.jsx)("div",{className:"QnA-content",style:{display:"flex",flexWrap:"wrap"},children:null===d||void 0===d?void 0:d.tags.map((function(e){return Object(x.jsx)("span",{className:"tag",children:null===e||void 0===e?void 0:e.name},null===e||void 0===e?void 0:e.id)}))}),Object(x.jsxs)("div",{style:{float:"right",width:"100%"},className:"mb-2",children:[Object(x.jsx)("div",{style:{float:"right",marginTop:5},children:Object(x.jsx)(y.b,{to:"/user/".concat(d.host.id),className:"link",children:Object(x.jsx)("p",{className:"link",children:d.host.username})})}),Object(x.jsx)(y.b,{to:"/user/".concat(d.host.id),className:"link",children:Object(x.jsx)("img",{style:{float:"right",marginRight:5},src:d.host.avatar,alt:d.host.name,className:"question-avatar"})})]}),d.comments&&d.comments.map((function(e){return Object(x.jsx)(le,{comment:e},e.id)})),c.authTokens&&Object(x.jsxs)("div",{children:[!w&&Object(x.jsx)("button",{className:"btn-link",onClick:function(){return S(!0)},style:{margin:0},children:"Add a comment"}),w&&Object(x.jsx)(ae,{id:d.id,setShowAddComment:S,setParent:u,type_is_question:!0})]}),Object(x.jsx)("hr",{className:"mb-2"}),(null===(e=d.answers)||void 0===e?void 0:e.length)>0&&Object(x.jsxs)("div",{children:[Object(x.jsxs)("label",{children:["Answers (",d.answers.length,")"]}),Object(x.jsx)("div",{children:d.answers.map((function(e){return Object(x.jsx)(je,{ans:e,questionID:d.id,refID:n,host_id:d.host.id,is_answered:d.is_answered,setQuestion:u},e.id)}))})]}),(null===c||void 0===c?void 0:c.authTokens)&&Object(x.jsxs)("div",{className:"input-group",children:[Object(x.jsxs)("fieldset",{className:"mb-2",children:[Object(x.jsx)("legend",{children:"Post an answer"}),Object(x.jsx)(ne,{setDes:v,setInvalid:z}),I&&Object(x.jsx)("p",{className:"alert alert-danger",children:"Answer must be more than 5 characters"})]}),Object(x.jsx)("button",{className:"btn btn-blue",style:{width:"30%"},onClick:function(){return function(){if(!g||m(g).length<5)return z(!0);var e,n={input:g};j.a.post("/api/post-answer/".concat(t),n,{headers:{Authorization:"Bearer ".concat(null===c||void 0===c||null===(e=c.authTokens)||void 0===e?void 0:e.access)}}).then((function(e){return u(e.data)})).then(h("success","Answer posted"))}()},children:"Post answer"})]})]}),(null===c||void 0===c?void 0:c.authTokens)&&Object(x.jsxs)("div",{className:"right-pane",children:[Object(x.jsxs)("p",{className:"bordered-sidebar",style:{padding:20,marginBottom:20,textAlign:"center"},children:["Go to"," ",Object(x.jsx)(y.b,{className:"link",to:"/user-questions",children:"My Questions"})]}),Object(x.jsx)(C,{className:"bordered-sidebar"})]})]})},be=n(18),he=n(89),me=n(47),Oe=n(48),xe=function(){var e=Object(s.useState)(0),t=Object(l.a)(e,2),n=t[0],c=t[1];return Object(x.jsxs)("div",{children:[Object(x.jsx)(y.b,{to:"/",children:Object(x.jsx)("button",{className:"btn-link ".concat(1===n&&"active"),onClick:function(){return c(1)},children:Object(x.jsx)("p",{children:"Home"})})}),Object(x.jsxs)("div",{children:[Object(x.jsx)("p",{style:{paddingLeft:7,margin:"10px 0px",fontSize:"smaller"},children:"CONTENT"}),Object(x.jsxs)("div",{children:[Object(x.jsx)(y.b,{to:"/all-questions",children:Object(x.jsxs)("button",{className:"btn-link ".concat(2===n&&"active"),onClick:function(){return c(2)},children:[Object(x.jsx)(be.e,{className:"icon ".concat(2===n&&"icon-orange"),style:{float:"left",marginRight:10}}),Object(x.jsx)("p",{style:{marginTop:2},children:"Questions"})]})}),Object(x.jsx)(y.b,{to:"/tags",children:Object(x.jsxs)("button",{className:"btn-link ".concat(3===n&&"active"),onClick:function(){return c(3)},children:[Object(x.jsx)(be.f,{style:{transform:"rotate(135deg)",float:"left",marginRight:10},className:"icon ".concat(3===n&&"icon-orange")}),Object(x.jsx)("p",{style:{marginTop:1},children:"Tags"})]})}),Object(x.jsx)(y.b,{to:"/users",children:Object(x.jsxs)("button",{className:"btn-link ".concat(4===n&&"active"),onClick:function(){return c(4)},children:[Object(x.jsx)(he.a,{style:{float:"left",marginRight:10},className:"icon ".concat(4===n&&"icon-orange")}),Object(x.jsx)("p",{style:{marginTop:2},children:"Users"})]})})]})]}),Object(x.jsxs)("div",{children:[Object(x.jsx)("p",{style:{paddingLeft:7,marginTop:30,fontSize:"smaller"},children:"POPULAR"}),Object(x.jsxs)("div",{children:[Object(x.jsx)(y.b,{to:"/tags/javascript",children:Object(x.jsxs)("button",{className:"btn-link ".concat(5===n&&"active"),onClick:function(){return c(5)},children:[Object(x.jsx)(Oe.b,{className:"icon ".concat(5===n&&"icon-orange"),style:{float:"left",marginRight:10}}),Object(x.jsx)("p",{style:{marginTop:3},children:"Javascript"})]})}),Object(x.jsx)(y.b,{to:"/tags/python",children:Object(x.jsxs)("button",{className:"btn-link ".concat(6===n&&"active"),onClick:function(){return c(6)},children:[Object(x.jsx)(me.b,{style:{float:"left",marginRight:10},className:"icon ".concat(6===n&&"icon-orange")}),Object(x.jsx)("p",{style:{marginTop:2},children:"Python"})]})}),Object(x.jsx)(y.b,{to:"/tags/java",children:Object(x.jsxs)("button",{className:"btn-link ".concat(7===n&&"active"),onClick:function(){return c(7)},children:[Object(x.jsx)(me.a,{style:{float:"left",marginRight:10},className:"icon ".concat(7===n&&"icon-orange")}),Object(x.jsx)("p",{style:{marginTop:3},children:"Java"})]})}),Object(x.jsx)(y.b,{to:"/tags/c-sharp",children:Object(x.jsxs)("button",{className:"btn-link ".concat(8===n&&"active"),onClick:function(){return c(8)},children:[Object(x.jsx)(Oe.a,{style:{float:"left",marginRight:10},className:"icon ".concat(8===n&&"icon-orange")}),Object(x.jsx)("p",{style:{marginTop:2},children:"CSharp"})]})}),Object(x.jsx)(y.b,{to:"/tags/php",children:Object(x.jsxs)("button",{className:"btn-link ".concat(9===n&&"active"),onClick:function(){return c(9)},children:[Object(x.jsx)(Oe.c,{style:{float:"left",marginRight:10},className:"icon ".concat(9===n&&"icon-orange")}),Object(x.jsx)("p",{style:{marginTop:3},children:"PHP"})]})})]})]})]})},ge=n(14),pe=n.n(ge),ve=n(29),fe=function(){var e,t,n,c,i,a=Object(s.useState)({}),o=Object(l.a)(a,2),d=o[0],u=o[1],b=Object(s.useState)(0),h=Object(l.a)(b,2),m=h[0],O=h[1],g=function(){var e=Object(ve.a)(pe.a.mark((function e(t){return pe.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:j.a.post("api/create-user/",t).then((function(e){O(1),u(null===e||void 0===e?void 0:e.data)})).catch((function(e){return u(e.response.data)}));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),p=Object(_.d)({resolver:Object(R.a)(z)}),v=p.register,f=p.handleSubmit,y=p.formState.errors;return Object(x.jsxs)("div",{className:"signup-background",children:[0===m&&Object(x.jsx)("form",{className:"login-register-wrapper",onSubmit:f(g),children:Object(x.jsxs)("fieldset",{children:[Object(x.jsx)("legend",{children:"Create an account"}),Object(x.jsxs)("div",{className:"input-group",children:[Object(x.jsx)("label",{children:"Name"}),Object(x.jsx)("input",Object(r.a)(Object(r.a)({},v("name")),{},{type:"text",name:"name",className:"textfield"})),y.name&&Object(x.jsx)("p",{className:"alert alert-danger",children:null===(e=y.name)||void 0===e?void 0:e.message})]}),Object(x.jsxs)("div",{className:"input-group",children:[Object(x.jsx)("label",{children:"Username"}),Object(x.jsx)("input",Object(r.a)(Object(r.a)({type:"text"},v("username")),{},{name:"username",onChange:function(){return u({})},className:"textfield"})),(null===d||void 0===d?void 0:d.username)&&Object(x.jsx)("p",{className:"alert alert-danger",children:d.username}),y.username&&Object(x.jsx)("p",{className:"alert alert-danger",children:null===(t=y.username)||void 0===t?void 0:t.message})]}),Object(x.jsxs)("div",{className:"input-group",children:[Object(x.jsx)("label",{children:"Email"}),Object(x.jsx)("input",Object(r.a)(Object(r.a)({type:"email",name:"email"},v("email")),{},{onChange:function(){return u({})},className:"textfield"})),(null===d||void 0===d?void 0:d.email)&&Object(x.jsx)("p",{className:"alert alert-danger",children:d.email}),y.email&&Object(x.jsx)("p",{className:"alert alert-danger",children:null===(n=y.email)||void 0===n?void 0:n.message})]}),Object(x.jsxs)("div",{className:"input-group",children:[Object(x.jsx)("label",{children:"Password"}),Object(x.jsx)("input",Object(r.a)(Object(r.a)({},v("password")),{},{type:"password",name:"password",className:"textfield"})),y.password&&Object(x.jsx)("p",{className:"alert alert-danger",children:null===(c=y.password)||void 0===c?void 0:c.message})]}),Object(x.jsxs)("div",{className:"input-group",children:[Object(x.jsx)("label",{children:"Confirm Password"}),Object(x.jsx)("input",Object(r.a)(Object(r.a)({type:"password"},v("confirmPassword")),{},{name:"confirmPassword",className:"textfield"})),y.confirmPassword&&Object(x.jsx)("p",{className:"alert alert-danger",children:null===(i=y.confirmPassword)||void 0===i?void 0:i.message})]}),Object(x.jsx)("div",{className:"input-group",children:Object(x.jsx)("input",{type:"submit",className:"btn btn-blue",value:"Sign up",style:{width:"100%",borderRadius:4}})})]})}),1===m&&Object(x.jsx)("div",{className:"login-register-wrapper",children:Object(x.jsx)("p",{className:"alert alert-success",children:null===d||void 0===d?void 0:d.message})})]})},ye=function(){var e,t,n=Object(s.useState)({}),c=Object(l.a)(n,2),i=c[0],a=c[1],o=Object(s.useContext)(p).dispatch,d=Object(D.g)(),u=Object(_.d)({resolver:Object(R.a)(E)}),b=u.register,h=u.handleSubmit,m=u.formState.errors;return Object(x.jsx)("div",{className:"signup-background",children:Object(x.jsxs)("form",{className:"login-register-wrapper",style:{marginTop:150},onSubmit:h((function(e){j.a.post("/api/token/",e).then((function(e){200===e.status&&(o({type:"LOGIN_SUCCESS",payload:e.data}),d("/"))})).catch((function(e){return a(e.response.data)}))})),children:[i.detail&&Object(x.jsx)("p",{className:"alert alert-danger",style:{marginBottom:20},children:null===i||void 0===i?void 0:i.detail}),Object(x.jsxs)("fieldset",{children:[Object(x.jsx)("legend",{children:"Log in"}),Object(x.jsxs)("div",{className:"input-group",children:[Object(x.jsx)("label",{children:"Username"}),Object(x.jsx)("input",Object(r.a)(Object(r.a)({type:"text"},b("username")),{},{name:"username",onChange:function(){return a({})},className:"textfield"})),m.username&&Object(x.jsx)("p",{className:"alert alert-danger",children:null===(e=m.username)||void 0===e?void 0:e.message})]}),Object(x.jsxs)("div",{className:"input-group",children:[Object(x.jsx)("label",{children:"Password"}),Object(x.jsx)("input",Object(r.a)(Object(r.a)({type:"password"},b("password")),{},{onChange:function(){return a({})},name:"password",className:"textfield"})),m.password&&Object(x.jsx)("p",{className:"alert alert-danger",children:null===(t=m.password)||void 0===t?void 0:t.message})]}),Object(x.jsx)("input",{type:"submit",className:"btn btn-blue",value:"Log in",style:{width:"100%",marginBottom:10}})]})]})})},Ne=n(110),ke=function(e){var t=e.setMobileNav,n=Object(s.useState)(0),c=Object(l.a)(n,2),i=c[0],a=c[1];return Object(x.jsxs)("div",{children:[Object(x.jsx)(y.b,{to:"/",onClick:function(){return t(!1)},children:Object(x.jsx)("button",{className:"btn-link ".concat(1===i&&"active"),onClick:function(){return a(1)},children:Object(x.jsx)("p",{children:"Home"})})}),Object(x.jsxs)("div",{children:[Object(x.jsx)("p",{style:{paddingLeft:7,margin:"10px 0px",fontSize:"smaller"},children:"CONTENT"}),Object(x.jsxs)("div",{children:[Object(x.jsx)(y.b,{to:"/all-questions",onClick:function(){return t(!1)},children:Object(x.jsxs)("button",{className:"btn-link ".concat(2===i&&"active"),onClick:function(){return a(2)},children:[Object(x.jsx)(be.e,{className:"icon ".concat(2===i&&"icon-orange"),style:{float:"left",marginRight:10}}),Object(x.jsx)("p",{style:{marginTop:2},children:"Questions"})]})}),Object(x.jsx)(y.b,{to:"/tags",onClick:function(){return t(!1)},children:Object(x.jsxs)("button",{className:"btn-link ".concat(3===i&&"active"),onClick:function(){return a(3)},children:[Object(x.jsx)(be.f,{style:{transform:"rotate(135deg)",float:"left",marginRight:10},className:"icon ".concat(3===i&&"icon-orange")}),Object(x.jsx)("p",{style:{marginTop:1},children:"Tags"})]})}),Object(x.jsx)(y.b,{to:"/users",onClick:function(){return t(!1)},children:Object(x.jsxs)("button",{className:"btn-link ".concat(4===i&&"active"),onClick:function(){return a(4)},children:[Object(x.jsx)(he.a,{style:{float:"left",marginRight:10},className:"icon ".concat(4===i&&"icon-orange")}),Object(x.jsx)("p",{style:{marginTop:2},children:"Users"})]})})]})]}),Object(x.jsxs)("div",{children:[Object(x.jsx)("p",{style:{paddingLeft:7,marginTop:30,fontSize:"smaller"},children:"POPULAR"}),Object(x.jsxs)("div",{children:[Object(x.jsx)(y.b,{to:"/tags/javascript",onClick:function(){return t(!1)},children:Object(x.jsxs)("button",{className:"btn-link ".concat(5===i&&"active"),onClick:function(){return a(5)},children:[Object(x.jsx)(Oe.b,{className:"icon ".concat(5===i&&"icon-orange"),style:{float:"left",marginRight:10}}),Object(x.jsx)("p",{style:{marginTop:3},children:"Javascript"})]})}),Object(x.jsx)(y.b,{to:"/tags/python",onClick:function(){return t(!1)},children:Object(x.jsxs)("button",{className:"btn-link ".concat(6===i&&"active"),onClick:function(){return a(6)},children:[Object(x.jsx)(me.b,{style:{float:"left",marginRight:10},className:"icon ".concat(6===i&&"icon-orange")}),Object(x.jsx)("p",{style:{marginTop:2},children:"Python"})]})}),Object(x.jsx)(y.b,{to:"/tags/java",onClick:function(){return t(!1)},children:Object(x.jsxs)("button",{className:"btn-link ".concat(7===i&&"active"),onClick:function(){return a(7)},children:[Object(x.jsx)(me.a,{style:{float:"left",marginRight:10},className:"icon ".concat(7===i&&"icon-orange")}),Object(x.jsx)("p",{style:{marginTop:3},children:"Java"})]})}),Object(x.jsx)(y.b,{to:"/tags/c-sharp",onClick:function(){return t(!1)},children:Object(x.jsxs)("button",{className:"btn-link ".concat(8===i&&"active"),onClick:function(){return a(8)},children:[Object(x.jsx)(Oe.a,{style:{float:"left",marginRight:10},className:"icon ".concat(8===i&&"icon-orange")}),Object(x.jsx)("p",{style:{marginTop:2},children:"CSharp"})]})}),Object(x.jsx)(y.b,{to:"/tags/php",onClick:function(){return t(!1)},children:Object(x.jsxs)("button",{className:"btn-link ".concat(9===i&&"active"),onClick:function(){return a(9)},children:[Object(x.jsx)(Oe.c,{style:{float:"left",marginRight:10},className:"icon ".concat(9===i&&"icon-orange")}),Object(x.jsx)("p",{style:{marginTop:3},children:"PHP"})]})})]})]})]})},we=function(e){var t=e.obj,n=e.setShowNotification,c=Object(s.useContext)(p),i=c.store,a=c.dispatch,l=t.change.filter((function(e){return"comment"===e.action_type})),r=l.length>0&&t.change.filter((function(e){return"comment"===e.action_type&&!e.is_seen})),o=t.change.filter((function(e){return"answer"===e.action_type})),d=o.length>0&&t.change.filter((function(e){return"answer"===e.action_type&&!e.is_seen})),u=t.change.filter((function(e){return"solution"===e.action_type})),b=function(e){var s;"comment-answer"===e?s=t.change.filter((function(e){return!1===e.is_seen})):"solution"===e&&(s=u.filter((function(e){return!1===e.is_seen}))),s.length>0?j.a.put("/api/edit-notifications/".concat(t.id),s,{headers:{Authorization:"Bearer ".concat(null===i||void 0===i?void 0:i.authTokens.access)}}).then((function(e){n(!1),a({type:"NOTIFICATIONS",payload:e.data})})):n(!1)};return Object(x.jsxs)("div",{style:{lineHeight:1},children:["question"===t.entity_type&&l.length>0&&Object(x.jsx)(y.b,{to:"/question/".concat(t.entity.id),children:Object(x.jsxs)("button",{className:"notification-btn ".concat((r.length>0||d.length>0)&&"note-new"),onClick:function(){return b("comment-answer")},children:[Object(x.jsxs)("div",{className:"notification-attribute",children:[Object(x.jsx)(be.b,{style:{marginLeft:15}}),Object(x.jsx)("p",{className:"note-attribute-placeholder",children:t.entity_type.slice(0,1)})]}),Object(x.jsxs)("div",{className:"notification-content",children:[r.length>0?Object(x.jsxs)("small",{className:"comment-answer new",children:[r.length," ",r.length>1?"new comments":"new comment"]}):Object(x.jsxs)("small",{className:"comment-answer",children:[l.length," ",l.length>1?"comments":"comment"]}),o.length>0&&Object(x.jsx)("span",{style:{marginLeft:15},children:d.length>0?Object(x.jsxs)("small",{className:"comment-answer new",children:[d.length," ",d.length>1?"new answers":"new answer"]}):Object(x.jsxs)("small",{className:"comment-answer",children:[" ",o.length," ",o.length>1?"answers":"answer"]})}),Object(x.jsx)("div",{className:"link",style:{marginTop:5},children:Object(x.jsxs)("small",{children:[t.entity.title.slice(0,60),t.entity.title.length>59&&"..."]})})]})]})}),"answer"===t.entity_type&&l.length>0&&Object(x.jsx)(y.b,{to:"/question/".concat(t.parent.id,"/").concat(t.entity.id),children:Object(x.jsxs)("button",{className:"notification-btn ".concat((r.length>0||d.length>0)&&"note-new"),onClick:function(){return b("comment-answer")},children:[Object(x.jsxs)("div",{className:"notification-attribute",children:[Object(x.jsx)(be.b,{style:{marginLeft:15}}),Object(x.jsx)("small",{className:"note-attribute-placeholder",children:t.entity_type.slice(0,1)})]}),Object(x.jsxs)("div",{className:"notification-content",children:[r.length>0?Object(x.jsxs)("small",{className:"comment-answer new",children:[r.length," ",r.length>1?"new comments":"new comment"]}):Object(x.jsxs)("small",{className:"comment-answer",children:[l.length," ",l.length>1?"comments":"comment"]}),Object(x.jsx)("div",{className:"link",style:{marginTop:5},children:Object(x.jsxs)("small",{children:[t.parent.title.slice(0,60),t.parent.title.length>59&&"..."]})})]})]})}),u.length>0&&Object(x.jsx)(y.b,{to:"/question/".concat(t.parent.id,"/").concat(t.entity.id),children:Object(x.jsxs)("button",{className:"notification-btn ".concat(t.change.filter((function(e){return"solution"===e.action_type&&!e.is_seen})).length>0&&"note-new"),onClick:function(){return b("solution")},children:[Object(x.jsxs)("div",{className:"notification-attribute",children:[Object(x.jsx)(be.b,{style:{marginLeft:15}}),Object(x.jsx)("small",{className:"note-attribute-placeholder",children:t.entity_type.slice(0,1)})]}),Object(x.jsxs)("div",{className:"notification-content",children:[Object(x.jsx)("small",{children:"Your answer is the solution"}),Object(x.jsx)("div",{className:"link",style:{marginTop:5},children:Object(x.jsxs)("small",{children:[t.parent.title.slice(0,60),t.parent.title.length>59&&"..."]})})]})]})})]})},Te=function(e){var t=e.setShowNotification,n=Object(s.useState)(null),c=Object(l.a)(n,2),i=c[0],a=c[1],r=Object(s.useContext)(p).store;return Object(s.useEffect)((function(){return j.a.get("/api/get-notifications",{headers:{Authorization:"Bearer ".concat(null===r||void 0===r?void 0:r.authTokens.access)}}).then((function(e){return a(e.data)}))}),[null===r||void 0===r?void 0:r.authTokens.access]),Object(x.jsxs)("div",{className:"notification-wrapper",children:[i&&(null===i||void 0===i?void 0:i.obj.map((function(e){return Object(x.jsx)(we,{setShowNotification:t,obj:e},e.id)}))),0===(null===i||void 0===i?void 0:i.obj.length)&&Object(x.jsx)("p",{style:{width:"100%",textAlign:"center",padding:30,boxSizing:"border-box",borderBottom:"1px solid #b9b9b9"},children:"You have no notifications yet"})]})},Ce=function(){var e,t,n,c,i,a=Object(s.useState)(!1),r=Object(l.a)(a,2),o=r[0],d=r[1],u=Object(D.g)(),b=Object(s.useContext)(p),h=b.store,m=b.dispatch,O=h.authTokens&&Object(T.a)(null===h||void 0===h||null===(e=h.authTokens)||void 0===e?void 0:e.access);Object(s.useEffect)((function(){h.authTokens&&j.a.get("/api/get-user/".concat(null===O||void 0===O?void 0:O.user_id)).then((function(e){m({type:"AVATAR",payload:e.data.avatar}),m({type:"INTERESTS",payload:e.data.interests})}))}),[null===h||void 0===h?void 0:h.authTokens,m,null===O||void 0===O?void 0:O.user_id]);var g=Object(s.useState)(!1),v=Object(l.a)(g,2),f=v[0],N=v[1];return Object(x.jsxs)(x.Fragment,{children:[Object(x.jsx)("header",{children:Object(x.jsxs)("div",{className:"header-container",children:[Object(x.jsx)("div",{children:Object(x.jsxs)(y.b,{to:"/",children:[Object(x.jsx)("img",{src:"../jjj.svg",alt:"home",style:{marginTop:8}}),Object(x.jsxs)("h2",{className:"word",style:{margin:0,paddingBottom:5,float:"right"},children:["edge",Object(x.jsx)("span",{style:{color:"#ee8723"},children:"Room"})]})]})}),Object(x.jsxs)("form",{className:"search-bar",onSubmit:function(e){e.preventDefault(),u("/search?query=".concat(e.target.query.value))},children:[Object(x.jsx)("i",{className:"search-icon",children:Object(x.jsx)(A.a,{})}),Object(x.jsx)("input",{type:"text",name:"query",placeholder:"Search...",className:"textfield",style:{paddingLeft:26,background:"none"}})]}),Object(x.jsxs)("div",{className:"header-toggle",children:[h.authTokens&&Object(x.jsx)("img",{src:null===h||void 0===h?void 0:h.avatar,alt:"",className:"avatar"}),h.authTokens&&Object(x.jsxs)("div",{style:{position:"relative",marginTop:2,marginRight:10},children:[Object(x.jsxs)("span",{style:{cursor:"pointer"},children:[Object(x.jsx)(Ne.a,{style:{fontSize:23,marginTop:3},onClick:function(){return N(!f)}}),(null===(t=h.notifications)||void 0===t?void 0:t.unseen_count)>0&&Object(x.jsx)("small",{className:"new-notifications",style:{margin:0},onClick:function(){return N(!f)},children:null===(n=h.notifications)||void 0===n?void 0:n.unseen_count})]}),f&&Object(x.jsx)(Te,{setShowNotification:N})]}),Object(x.jsx)(be.d,{style:{fontSize:25,cursor:"pointer"},className:o&&"liked",onClick:function(){return d(!o)}})]}),null===(null===h||void 0===h?void 0:h.authTokens)?Object(x.jsxs)("nav",{className:"main-nav",children:[Object(x.jsx)(y.b,{to:"/login",children:Object(x.jsx)("button",{className:"btn btn-dark",style:{marginRight:20},children:"Log in"})}),Object(x.jsx)(y.b,{to:"/signup",children:Object(x.jsx)("button",{className:"btn btn-blue",children:"Create account"})})]}):Object(x.jsxs)("nav",{className:"main-nav",children:[Object(x.jsx)("img",{src:null===h||void 0===h?void 0:h.avatar,alt:"",className:"avatar"}),Object(x.jsxs)("div",{style:{position:"relative",marginTop:2,marginRight:30},children:[Object(x.jsxs)("span",{style:{cursor:"pointer"},children:[Object(x.jsx)(Ne.a,{style:{fontSize:23,marginTop:3},onClick:function(){return N(!f)}}),(null===(c=h.notifications)||void 0===c?void 0:c.unseen_count)>0&&Object(x.jsx)("small",{className:"new-notifications",style:{margin:0},onClick:function(){return N(!f)},children:null===(i=h.notifications)||void 0===i?void 0:i.unseen_count})]}),f&&Object(x.jsx)(Te,{setShowNotification:N})]}),Object(x.jsx)("button",{onClick:function(){return m({type:"LOGOUT"})},className:"btn btn-dark",children:"Log out"})]})]})}),o&&Object(x.jsxs)("nav",{className:"mobile-nav",children:[Object(x.jsxs)("div",{style:{height:43,borderBottom:"2px solid #dadada"},children:[Object(x.jsxs)(y.b,{to:"/",onClick:function(){return d(!1)},children:[Object(x.jsx)("img",{src:"../jjj.svg",alt:"home",style:{margin:"12px 4px 10px 10px",width:27,float:"left"}}),Object(x.jsxs)("h2",{className:"word",style:{margin:"4px 0px 0px 0px",paddingBottom:5,float:"left",color:"black"},children:["edge",Object(x.jsx)("span",{style:{color:"#ee8723"},children:"Room"})]})]}),Object(x.jsx)(me.c,{style:{margin:"11px 4px 4px 4px",fontSize:20,paddingBottom:5,float:"right",cursor:"pointer"},className:"dislike",onClick:function(){return d(!1)}})]}),Object(x.jsxs)("div",{className:"mobile-header-content mb-2",children:[Object(x.jsx)("p",{children:"edgeRoom is a community of amazing developers."}),null===(null===h||void 0===h?void 0:h.authTokens)?Object(x.jsxs)(x.Fragment,{children:[Object(x.jsx)(y.b,{to:"/login",onClick:function(){return d(!1)},children:Object(x.jsx)("button",{className:"btn btn-dark",children:"Log in"})}),Object(x.jsx)(y.b,{to:"/signup",onClick:function(){return d(!1)},children:Object(x.jsx)("button",{className:"btn btn-blue",children:"Create account"})})]}):Object(x.jsxs)(x.Fragment,{children:[Object(x.jsx)(y.b,{to:"/user-questions",onClick:function(){return d(!1)},children:Object(x.jsx)("button",{className:"btn btn-blue",children:"My questions"})}),Object(x.jsx)("button",{onClick:function(){d(!1),m({type:"LOGOUT"})},className:"btn btn-dark",children:"Log out"})]})]}),Object(x.jsx)("div",{style:{marginLeft:"10%"},children:Object(x.jsx)(ke,{setMobileNav:d})})]})]})},Se=function(e){var t=e.interest,n=e.questions;e.answers;return Object(x.jsxs)("div",{className:"profile-interest-wrapper",children:[Object(x.jsx)(y.b,{to:"/",children:Object(x.jsx)("button",{className:"tag",style:{fontSize:13},children:t.name})}),Object(x.jsxs)("p",{style:{marginTop:5},children:[n.filter((function(e){return!!O(e.tags,t)})).length," ","questions"]})]})},qe=function(e){var t=e.question,n=new Date(t.created);return Object(x.jsxs)(x.Fragment,{children:[Object(x.jsxs)("div",{className:"profile-QnA-wrapper",children:[Object(x.jsx)("div",{style:{width:"10%"},children:Object(x.jsx)("strong",{className:"QnA ".concat(t.is_answered&&"is-answered"),children:"Q"})}),Object(x.jsx)("div",{style:{width:"65%"},children:Object(x.jsx)(y.b,{to:"/question?id=".concat(t.id),className:"link",children:t.title})}),Object(x.jsx)("small",{style:{width:"20%",textAlign:"right"},children:k()(n).fromNow()})]}),Object(x.jsx)("hr",{style:{borderColor:"#d8d8d8"}})]})},Ae=function(e){var t=e.answer,n=new Date(t.created);return Object(x.jsxs)(x.Fragment,{children:[Object(x.jsxs)("div",{className:"profile-QnA-wrapper",children:[Object(x.jsx)("div",{style:{width:"10%"},children:Object(x.jsx)("strong",{className:"QnA ".concat(t.is_solution&&"is-answered"),children:"A"})}),Object(x.jsx)("div",{style:{width:"65%"},children:Object(x.jsx)(y.b,{to:"/question?id=".concat(t.question.id),className:"link",children:t.question.title})}),Object(x.jsx)("small",{style:{width:"20%",textAlign:"right"},children:k()(n).fromNow()})]}),Object(x.jsx)("hr",{style:{borderColor:"#d8d8d8"}})]})},_e=function(){var e,t=Object(D.h)().id,n=Object(s.useContext)(p).store,c=(null===n||void 0===n?void 0:n.authTokens)&&Object(T.a)(null===n||void 0===n?void 0:n.authTokens.access),i=Object(s.useState)(null),a=Object(l.a)(i,2),r=a[0],o=a[1],d=Object(s.useState)(null),u=Object(l.a)(d,2),b=u[0],h=u[1],m=new Date(null===r||void 0===r?void 0:r.date_joined),O=new Date(null===r||void 0===r?void 0:r.last_login);return Object(s.useEffect)((function(){j.a.get("/api/get-user/".concat(t)).then((function(e){o(e.data)}))}),[t]),Object(x.jsx)(x.Fragment,{children:r&&Object(x.jsxs)("div",{style:{padding:"25px 20px"},children:[Object(x.jsxs)("div",{className:"profile-avatar-wrapper mb-2",children:[Object(x.jsx)(y.b,{to:"/user?id=".concat(r.id),className:"link",children:Object(x.jsx)("img",{style:{float:"",marginRight:20},src:r.avatar,alt:r.name,className:"profile-avatar"})}),(null===c||void 0===c?void 0:c.user_id)===Number(t)&&Object(x.jsx)(y.b,{to:"/user/edit/".concat(null===r||void 0===r?void 0:r.id),className:"link",children:"Edit"}),Object(x.jsxs)("div",{style:{float:"right",lineHeight:1.8},children:[Object(x.jsx)("p",{style:{fontSize:30},children:r.username}),Object(x.jsxs)("div",{children:[Object(x.jsx)(be.a,{className:"icon",style:{marginTop:6,marginRight:10,float:"left"}}),Object(x.jsxs)("span",{children:["Joined ",k()(m).fromNow()]})]}),Object(x.jsxs)("div",{children:[Object(x.jsx)(be.c,{className:"icon",style:{marginTop:6,marginRight:10,float:"left"}}),Object(x.jsxs)("span",{children:["Last seen ",k()(O).fromNow()]})]})]})]}),Object(x.jsx)("hr",{style:{width:"100%"}}),Object(x.jsx)("p",{className:"mb-2",children:r.bio}),Object(x.jsxs)("div",{children:[Object(x.jsx)("label",{style:{fontSize:20},children:"Stats"}),Object(x.jsxs)("div",{className:"profile-stats mb-2",children:[Object(x.jsxs)("div",{children:[Object(x.jsx)("p",{children:r.questions.reduce((function(e,t){return e+t.views}),0)}),Object(x.jsx)("small",{children:"total views"})]}),Object(x.jsxs)("div",{children:[Object(x.jsx)("p",{children:r.questions.length}),Object(x.jsx)("small",{children:"questions"})]}),Object(x.jsxs)("div",{children:[Object(x.jsx)("p",{children:null===(e=r.answers)||void 0===e?void 0:e.length}),Object(x.jsx)("small",{children:"answers"})]})]})]}),Object(x.jsxs)("div",{children:[Object(x.jsx)("label",{style:{fontSize:20},children:"Interest"}),Object(x.jsx)("div",{className:"profile-interest mb-2",children:r.interests.map((function(e){return Object(x.jsx)(Se,{interest:e,questions:r.questions,answers:r.answers},e.id)}))})]}),Object(x.jsxs)("div",{children:[Object(x.jsx)("label",{style:{fontSize:20},children:"Activity"}),Object(x.jsxs)("div",{className:"btn-group mb-2",children:[Object(x.jsx)("button",{className:"btn-select ".concat(1===b&&"active"),onClick:function(){return h(1)},children:"All"}),Object(x.jsx)("button",{className:"btn-select ".concat(2===b&&"active"),onClick:function(){return h(2)},children:"Questions"}),Object(x.jsx)("button",{className:"btn-select ".concat(3===b&&"active"),onClick:function(){return h(3)},children:"Answers"})]}),Object(x.jsxs)("div",{className:"profile-interest",children:[2===b&&(null===r||void 0===r?void 0:r.questions.map((function(e){return Object(x.jsx)(qe,{question:e},e.id)}))),3===b&&(null===r||void 0===r?void 0:r.answers.map((function(e){return Object(x.jsx)(Ae,{answer:e},e.id)}))),1===b&&Object(x.jsxs)("div",{children:[Object(x.jsx)("div",{children:null===r||void 0===r?void 0:r.questions.map((function(e){return Object(x.jsx)(qe,{question:e},e.id)}))}),Object(x.jsx)("div",{children:null===r||void 0===r?void 0:r.answers.map((function(e){return Object(x.jsx)(Ae,{answer:e},e.id)}))})]})]})]})]})})},Re=function(){var e,t,n,c=Object(s.useContext)(p),i=c.store,a=c.dispatch,d=Object(s.useState)([]),u=Object(l.a)(d,2),b=u[0],m=u[1],g=(null===i||void 0===i?void 0:i.authTokens)&&Object(T.a)(null===i||void 0===i?void 0:i.authTokens.access),v=Object(s.useState)(null),f=Object(l.a)(v,2),N=f[0],w=f[1],C=Object(s.useState)(null),S=Object(l.a)(C,2),I=S[0],z=S[1],E=Object(D.g)(),L=Object(D.h)().id,Q=Object(s.useState)(),F=Object(l.a)(Q,2),U=F[0],H=F[1],M=new Date(null===U||void 0===U?void 0:U.date_joined),G=new Date(null===U||void 0===U?void 0:U.last_login),K=Object(s.useState)(null),J=Object(l.a)(K,2),W=J[0],Y=J[1],V=function(e){O(b,e)||m([].concat(Object(q.a)(b),[e]))},X=Object(_.d)({resolver:Object(R.a)(B)}),Z=X.register,$=X.handleSubmit,ee=X.formState.errors;return Object(s.useEffect)((function(){var e;(null===i||void 0===i?void 0:i.authTokens)?g.user_id!==Number(L)&&E("/403"):E("/401"),j.a.get("/api/get-user/".concat(L),{headers:{Authorization:"Bearer ".concat(null===i||void 0===i||null===(e=i.authTokens)||void 0===e?void 0:e.access)}}).then((function(e){Y(e.data),H(e.data),m(e.data.interests)}))}),[a,E]),Object(x.jsxs)(x.Fragment,{children:[Object(x.jsx)(o.NotificationContainer,{}),U&&Object(x.jsxs)("div",{style:{padding:"25px 20px"},children:[Object(x.jsx)("div",{style:{width:"100%"},children:Object(x.jsxs)("div",{className:"profile-avatar-wrapper mb-2",children:[Object(x.jsx)(y.b,{to:"/user?id=".concat(U.id),className:"link",children:Object(x.jsx)("img",{style:{marginRight:20},src:U.avatar,alt:U.name,className:"profile-avatar"})}),Object(x.jsxs)("div",{style:{float:"right",lineHeight:1.8},children:[Object(x.jsx)("p",{style:{fontSize:30},children:U.username}),Object(x.jsxs)("div",{children:[Object(x.jsx)(be.a,{className:"icon",style:{marginTop:6,marginRight:10,float:"left"}}),Object(x.jsxs)("span",{children:["Joined ",k()(M).fromNow()]})]}),Object(x.jsxs)("div",{children:[Object(x.jsx)(be.c,{className:"icon",style:{marginTop:6,marginRight:10,float:"left"}}),Object(x.jsxs)("span",{children:["Last seen ",k()(G).fromNow()]})]})]})]})}),Object(x.jsx)("hr",{style:{width:"100%",border:"none"}}),Object(x.jsx)("label",{style:{fontSize:23},children:"Public Info"}),Object(x.jsx)("hr",{className:"mb-2"}),Object(x.jsxs)("div",{className:"profile-stats",children:[Object(x.jsxs)("div",{className:"edit-picture",style:{margin:10},children:[Object(x.jsx)("img",{src:U.avatar,alt:U.name}),Object(x.jsx)("button",{onClick:function(){window.cloudinary.createUploadWidget({cloudName:"wizzle3d",uploadPreset:"hasuhajhj"},(function(e,t){var n;!e&&t&&"success"===t.event&&j.a.put("/api/edit-avatar/",{avatar:t.info.url},{headers:{Authorization:"Bearer ".concat(null===i||void 0===i||null===(n=i.authTokens)||void 0===n?void 0:n.access)}}).then((function(){return H(Object(r.a)(Object(r.a)({},U),{},{avatar:t.info.url}))})).then(h("Profile picture updated"))})).open()},children:"Change image"})]}),Object(x.jsxs)("div",{className:"input-group",style:{width:"50%",marginTop:40},children:[Object(x.jsx)("label",{style:{fontSize:18},children:"Username"}),Object(x.jsx)("input",Object(r.a)(Object(r.a)({type:"text",name:"username",className:"textfield"},Z("username")),{},{value:W.username,onChange:function(e){return Y(Object(r.a)(Object(r.a)({},W),{},{username:e.target.value}))}})),(null===I||void 0===I?void 0:I.error)&&Object(x.jsx)("p",{className:"alert alert-danger",children:I.error}),ee.username&&Object(x.jsx)("p",{className:"alert alert-danger",children:null===(e=ee.username)||void 0===e?void 0:e.message})]})]}),Object(x.jsxs)("div",{className:"input-group",children:[Object(x.jsx)("label",{style:{fontSize:18},children:"Bio"}),Object(x.jsx)("textarea",Object(r.a)(Object(r.a)({type:"text",name:"bio",style:{height:"100px"},className:"textfield"},Z("bio")),{},{value:W.bio,onChange:function(e){return Y(Object(r.a)(Object(r.a)({},W),{},{bio:e.target.value}))}})),ee.bio&&Object(x.jsx)("p",{className:"alert alert-danger",children:null===(t=ee.bio)||void 0===t?void 0:t.message})]}),Object(x.jsx)("label",{style:{fontSize:18},children:"Interest"}),Object(x.jsx)("div",{style:{display:"flex",flexWrap:"wrap"},children:b.map((function(e){return Object(x.jsxs)("span",{className:"tag",onClick:function(){return function(e){m(b.filter((function(t){return t.id!==e.id})))}(e)},children:[null===e||void 0===e?void 0:e.name," ",Object(x.jsx)("span",{style:{color:"#ac5a2b",fontSize:15},children:"x"})]},null===e||void 0===e?void 0:e.id)}))}),Object(x.jsxs)("div",{className:"textfield",style:{marginBottom:20},children:[Object(x.jsxs)("div",{style:{display:"flex"},className:"mb-2",children:[Object(x.jsx)(A.a,{style:{float:"left"},className:"icon"}),Object(x.jsx)("input",{className:"tag-search",style:{float:"left"},type:"text",onChange:function(e){return t=e.target.value,j.a.get("/api/search-tags/".concat(t)).then((function(e){return w(e.data)})).catch((function(){return w(null)}));var t},placeholder:"Search tags..."})]}),Object(x.jsxs)("div",{style:{display:"flex",flexWrap:"wrap",justifyContent:"space-between"},children:[(null===N||void 0===N?void 0:N.length)>0&&N.map((function(e){return Object(x.jsx)(P,{addTag:V,tags:b,tag:e,onClick:function(){return i.tags.length<5&&a({type:"ADD_TAG",payload:e})}},e.id)})),0===(null===N||void 0===N?void 0:N.length)&&Object(x.jsx)("p",{className:"tag-wrapper alert-danger",style:{width:"100%",textAlign:"center",padding:30},children:"No tag matches your search."})]})]}),Object(x.jsx)("label",{style:{fontSize:23},children:"Private Info"}),Object(x.jsx)("hr",{className:"mb-2"}),Object(x.jsxs)("div",{className:"input-group",children:[Object(x.jsx)("label",{style:{fontSize:18},children:"Full Name"}),Object(x.jsx)("input",Object(r.a)(Object(r.a)({type:"text",name:"name",className:"textfield"},Z("name")),{},{value:W.name,onChange:function(e){return Y(Object(r.a)(Object(r.a)({},W),{},{name:e.target.value}))}})),ee.name&&Object(x.jsx)("p",{className:"alert alert-danger",children:null===(n=ee.name)||void 0===n?void 0:n.message})]}),Object(x.jsx)("button",{className:"btn btn-orange",onClick:$((function(e){var t;j.a.put("/api/edit-profile/",Object(r.a)(Object(r.a)({},e),{},{interests:b}),{headers:{Authorization:"Bearer ".concat(null===i||void 0===i||null===(t=i.authTokens)||void 0===t?void 0:t.access)}}).then((function(){E("/user/".concat(U.id)),a({type:"RESET_TAG"})})).then(h("Profile picture updated")).catch((function(e){return z(e.response.data)}))})),children:"Update profile"})]})]})},Ie=function(){return Object(x.jsx)("div",{style:{backgroundColor:"grey",position:"absolute"},children:Object(x.jsxs)("div",{children:[Object(x.jsx)("h1",{children:"403"}),Object(x.jsx)("p",{children:"You are not allowed to view this page"})]})})},ze=function(e){var t=e.tag;return Object(x.jsxs)("div",{className:"tag-wrapper",children:[Object(x.jsx)("div",{children:Object(x.jsx)(y.b,{to:"/tags/".concat(t.name,"/"),children:Object(x.jsx)("button",{className:"tag",style:{fontSize:14},children:t.name})})}),Object(x.jsxs)("small",{children:[t.description.slice(0,100),"..."]}),Object(x.jsx)("div",{style:{color:"grey"},children:Object(x.jsxs)("small",{children:[t.questions.length," questions"]})})]})},Ee=function(){var e=Object(s.useState)(null),t=Object(l.a)(e,2),n=t[0],c=t[1];return Object(s.useEffect)((function(){j.a.get("/api/get-tags").then((function(e){return c(e.data)}))}),[]),Object(x.jsx)(x.Fragment,{children:n&&Object(x.jsxs)("div",{style:{padding:"25px 20px"},children:[Object(x.jsx)("p",{style:{color:"rgb(58, 58, 58)",fontSize:26},children:"Tags"}),Object(x.jsx)("p",{children:"Tags are keywords that categorizes each question into fields relating to that question and makes it easy for someone interested in those fields to see your question."}),Object(x.jsx)("hr",{className:"mb-2"}),Object(x.jsx)("div",{className:"tags-wrapper",children:n.map((function(e){return Object(x.jsx)(ze,{tag:e},e.id)}))})]})})},Be=function(){var e=Object(D.h)().name,t=Object(s.useState)(null),n=Object(l.a)(t,2),c=n[0],i=n[1],a=Object(s.useContext)(p).store;return Object(s.useEffect)((function(){j.a.get("/api/get-tag/".concat(e)).then((function(e){return i(e.data)}))}),[e]),Object(x.jsx)(x.Fragment,{children:c&&Object(x.jsxs)("div",{children:[Object(x.jsxs)("div",{className:"content",style:{padding:"25px 0px"},children:[Object(x.jsxs)("div",{style:{margin:"0px 20px 10px 20px",display:"flex",justifyContent:"space-between"},children:[Object(x.jsx)("p",{style:{margin:0,color:"rgb(58, 58, 58)",fontSize:26,lineHeight:1.2},children:c.name}),Object(x.jsx)(y.b,{to:"/ask-question",children:Object(x.jsx)("button",{className:"btn btn-blue",children:"Ask question"})})]}),Object(x.jsx)("p",{style:{margin:"0px 20px 5px 20px"},children:c.description}),Object(x.jsx)("hr",{}),Object(x.jsx)("div",{className:"",children:c.questions.sort((function(e,t){return e.created>t.created?-1:1})).map((function(e){return Object(x.jsx)(w,{question:e},e.id)}))})]})," ",(null===a||void 0===a?void 0:a.authTokens)&&Object(x.jsxs)("div",{className:"right-pane",children:[Object(x.jsxs)("p",{className:"bordered-sidebar",style:{padding:20,marginBottom:20,textAlign:"center"},children:["Go to"," ",Object(x.jsx)(y.b,{className:"link",to:"/user-questions",children:"My Questions"})]}),Object(x.jsx)(C,{className:"bordered-sidebar"})]})]})})},Le=function(e){var t=e.user;return Object(x.jsxs)("div",{className:"tag-wrapper",style:{},children:[Object(x.jsx)(y.b,{to:"/user/".concat(t.id),className:"link",children:Object(x.jsx)("img",{style:{float:"left",marginRight:5},src:t.avatar,alt:t.name,width:"80px",height:"80px"})}),Object(x.jsx)("div",{style:{textAlign:"center",marginTop:20},children:Object(x.jsxs)(y.b,{to:"/user/".concat(t.id),className:"link",children:["@",t.username]})})]})},Qe=function(){var e=Object(y.c)(),t=Object(l.a)(e,1)[0],n=Object(s.useContext)(p).store,c=t.get("query"),i=Object(s.useState)(1),a=Object(l.a)(i,2),r=a[0],o=a[1],d=Object(s.useState)(null),u=Object(l.a)(d,2),b=u[0],h=u[1];return Object(s.useEffect)((function(){h(null),j.a.get("/api/search/".concat(c)).then((function(e){return h(e.data)}))}),[c]),Object(x.jsxs)(x.Fragment,{children:[b&&Object(x.jsxs)("div",{className:"content",children:[Object(x.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",padding:"5px 18px"},children:[Object(x.jsx)("p",{style:{margin:0,color:"rgb(58, 58, 58)",fontSize:26,lineHeight:1.2},children:"Search Results"}),Object(x.jsx)(y.b,{to:"/ask-question",children:Object(x.jsx)("button",{className:"btn btn-blue",children:"Ask question"})})]}),Object(x.jsxs)("div",{style:{display:"flex",margin:"15px 15px 0px 15px",justifyContent:"space-between"},children:[Object(x.jsxs)("small",{style:{marginTop:6,color:"rgb(58, 58, 58)",fontSize:"large"},children:[b.questions.length+b.tags.length+b.users.length," ","results"]}),Object(x.jsxs)("div",{className:"btn-group mb-2",children:[Object(x.jsx)("button",{className:"btn-select ".concat(1===r&&"active"),onClick:function(){return o(1)},children:"Questions"}),Object(x.jsx)("button",{className:"btn-select ".concat(2===r&&"active"),onClick:function(){return o(2)},children:"Tags"}),Object(x.jsx)("button",{className:"btn-select ".concat(3===r&&"active"),onClick:function(){return o(3)},children:"Users"})]})]}),Object(x.jsx)("hr",{}),1===r&&Object(x.jsx)("div",{children:b.questions.length>0?Object(x.jsx)("div",{children:b.questions.map((function(e){return Object(x.jsx)(w,{question:e},e.id)}))}):Object(x.jsx)("p",{className:"tag-wrapper",style:{width:"100%",textAlign:"center",padding:30},children:"No question matches your search."})}),2===r&&Object(x.jsx)(x.Fragment,{children:b.tags.length>0?Object(x.jsx)("div",{children:b.tags.map((function(e){return Object(x.jsx)(ze,{tag:e},e.id)}))}):Object(x.jsx)("p",{className:"tag-wrapper",style:{width:"100%",textAlign:"center",padding:30},children:"No tag matches your search."})}),3===r&&Object(x.jsx)("div",{children:b.users.length>0?Object(x.jsx)("div",{className:"tags-wrapper",children:b.users.map((function(e){return Object(x.jsx)(Le,{user:e},e.id)}))}):Object(x.jsx)("p",{className:"tag-wrapper",style:{width:"100%",textAlign:"center",padding:30},children:"No user matches your search."})})]}),(null===n||void 0===n?void 0:n.authTokens)&&Object(x.jsxs)("div",{className:"right-pane",children:[Object(x.jsxs)("p",{className:"bordered-sidebar",style:{padding:20,marginBottom:20,textAlign:"center"},children:["Go to"," ",Object(x.jsx)(y.b,{className:"link",to:"/user-questions",children:"My Questions"})]}),Object(x.jsx)(C,{className:"bordered-sidebar"})]})]})},De=function(){var e,t=Object(s.useContext)(p).store,n=Object(s.useState)(null),c=Object(l.a)(n,2),i=c[0],a=c[1],r=Object(s.useState)(),o=Object(l.a)(r,2),d=o[0],u=o[1],b=Object(s.useState)(1),h=Object(l.a)(b,2),m=h[0],O=h[1];return Object(s.useEffect)((function(){j.a.get("api/get-questions").then((function(e){a(e.data.sort((function(e,t){return e.created>t.created?-1:1}))),u(e.data.sort((function(e,t){return e.created>t.created?-1:1})))}))}),[null===t||void 0===t||null===(e=t.authTokens)||void 0===e?void 0:e.access]),Object(x.jsx)(x.Fragment,{children:i&&Object(x.jsxs)("div",{children:[Object(x.jsxs)("div",{className:"content",children:[Object(x.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",margin:"0px 15px"},children:[Object(x.jsx)("p",{style:{margin:0,color:"rgb(58, 58, 58)",fontSize:"26px"},children:"All Questions"}),Object(x.jsx)(y.b,{to:"/ask-question",style:{marginTop:5},children:Object(x.jsx)("button",{className:"btn btn-blue",children:"Ask question"})})]}),Object(x.jsxs)("div",{style:{display:"flex",margin:"15px 15px 0px 15px",justifyContent:"space-between"},children:[Object(x.jsxs)("p",{style:{marginTop:6,color:"rgb(58, 58, 58)",fontSize:"large"},children:[i.length," questions"]}),Object(x.jsxs)("div",{className:"btn-group mb-2",children:[Object(x.jsx)("button",{className:"btn-select ".concat(1===m&&"active"),onClick:function(){O(1),u(i)},children:"Newest"}),Object(x.jsx)("button",{className:"btn-select ".concat(2===m&&"active"),onClick:function(){O(2),u(i.sort((function(e,t){return e.vote.likes.length>t.vote.likes.length?-1:1})))},children:"Likes"}),Object(x.jsx)("button",{className:"btn-select ".concat(3===m&&"active"),onClick:function(){O(3),u(i.filter((function(e){return!0===e.is_answered})).sort((function(e,t){return e.created>t.created?-1:1})))},children:"Answered"})]})]}),Object(x.jsx)("hr",{}),null===d||void 0===d?void 0:d.map((function(e){return Object(x.jsx)(w,{question:e},e.id)}))]}),(null===t||void 0===t?void 0:t.authTokens)&&Object(x.jsxs)("div",{className:"right-pane",children:[Object(x.jsxs)("p",{className:"bordered-sidebar",style:{padding:20,marginBottom:20,textAlign:"center"},children:["Go to"," ",Object(x.jsx)(y.b,{className:"link",to:"/user-questions",children:"My Questions"})]}),Object(x.jsx)(C,{className:"bordered-sidebar"})]})]})})},Pe=function(){var e=Object(s.useState)(null),t=Object(l.a)(e,2),n=t[0],c=t[1];return Object(s.useEffect)((function(){j.a.get("/api/get-users").then((function(e){return c(e.data)}))}),[]),Object(x.jsx)("div",{children:n&&Object(x.jsxs)("div",{style:{padding:"25px 20px"},children:[Object(x.jsxs)("div",{style:{display:"flex",justifyContent:"space-between"},children:[Object(x.jsx)("p",{style:{color:"rgb(58, 58, 58)",fontSize:26},children:"All Users"}),Object(x.jsx)(y.b,{to:"/ask-question",children:Object(x.jsx)("button",{className:"btn btn-blue",children:"Ask question"})})]}),Object(x.jsxs)("p",{children:[null===n||void 0===n?void 0:n.length," users"]}),Object(x.jsx)("hr",{className:"mb-2"}),Object(x.jsx)("div",{children:n&&Object(x.jsx)("div",{className:"tags-wrapper",children:null===n||void 0===n?void 0:n.map((function(e){return Object(x.jsx)(Le,{user:e},e.id)}))})})]})})};var Fe=function(){return Object(x.jsx)(y.a,{children:Object(x.jsxs)(f,{children:[Object(x.jsx)(Ce,{}),Object(x.jsxs)("div",{className:"container",children:[Object(x.jsx)("div",{className:"left-pane",children:Object(x.jsx)(xe,{})}),Object(x.jsx)("div",{className:"middle-pane",children:Object(x.jsxs)(D.d,{children:[Object(x.jsx)(D.b,{path:"/",element:Object(x.jsx)(S,{})}),Object(x.jsx)(D.b,{path:"/signup",element:Object(x.jsx)(fe,{})}),Object(x.jsx)(D.b,{path:"/login",element:Object(x.jsx)(ye,{})}),Object(x.jsx)(D.b,{path:"/ask-question",element:Object(x.jsx)(se,{})}),Object(x.jsx)(D.b,{path:"/user-questions",element:Object(x.jsx)(ce,{})}),Object(x.jsx)(D.b,{path:"/all-questions",element:Object(x.jsx)(De,{})}),Object(x.jsx)(D.b,{path:"/question/:id",element:Object(x.jsx)(ue,{}),children:Object(x.jsx)(D.b,{path:":refID",element:Object(x.jsx)(ue,{})})}),Object(x.jsx)(D.b,{path:"/users",element:Object(x.jsx)(Pe,{})}),Object(x.jsx)(D.b,{path:"/user/:id",element:Object(x.jsx)(_e,{})}),Object(x.jsx)(D.b,{path:"/user/edit/:id",element:Object(x.jsx)(Re,{})}),Object(x.jsx)(D.b,{path:"/tags",element:Object(x.jsx)(Ee,{})}),Object(x.jsx)(D.b,{path:"/tags/:name",element:Object(x.jsx)(Be,{})}),Object(x.jsx)(D.b,{path:"/search",element:Object(x.jsx)(Qe,{})}),Object(x.jsx)(D.b,{path:"/403",element:Object(x.jsx)(Ie,{})})]})})]}),Object(x.jsx)(o.NotificationContainer,{})]})})},Ue=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,413)).then((function(t){var n=t.getCLS,s=t.getFID,c=t.getFCP,i=t.getLCP,a=t.getTTFB;n(e),s(e),c(e),i(e),a(e)}))};a.a.render(Object(x.jsx)(c.a.StrictMode,{children:Object(x.jsx)(Fe,{})}),document.getElementById("root")),Ue()}},[[411,1,2]]]);
//# sourceMappingURL=main.09b97e29.chunk.js.map